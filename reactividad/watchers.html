<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/vue@next"></script>
    <title>Watchers en Vue3</title>
</head>
<body>
    <div id="app"></div>
    <script>
        const app = Vue.createApp({
            data(){
                return {
                    text: "Hola Vue",
                    open: false,
                    estadoPuerta: "Puerta cerrada"
                };
            },
            computed: {
                buttonLbl() {
                    return this.open ? "Cerrar" : "Abrir" ;
                }
            },
            watch: {
                // Un watcer tiene que tener el mismo nombre que la variable que quieres escuchar.
                /*Es recomendable que un watcher no sea demasiado complejo. Si se quiere hacer complejo
                se puede hacer para que este llame a una fucni√≥n.
                */
                text(newValue, oldValue) {
                    console.log("Watcher !!", "\n", "New value: ",newValue, "\n","Old Value: ",oldValue)
                },
                open(value) {
                    value ? this.estadoPuerta = "Puerta abierta" : this.estadoPuerta = "Puerta cerrada"
                }
            },
            template: `
            <h1>{{ text }}</h1>
            <div class="container">
                <p>{{ estadoPuerta }}</p>
                <button @click="open = !open">{{ buttonLbl }}</button>
            </div>
            `
        }).mount("#app");
    </script>
    
</body>
</html>